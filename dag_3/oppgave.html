<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oppgave dag 3</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <script src="../script.js"></script>
</head>
<body>
<div class="header">
    <div class="headerImg">
        <a href="../index.html">
            <img id="osloMetlogo" src="../img/osloMet.png"/>
        </a>
    </div>

    <div class="headerLink">
        <a href="../dag_1/oppgave.html">Dag 1</a>
    </div>
    <div class="headerLink">
        <a href="../dag_2/oppgave.html">Dag 2</a>
    </div>
    <div class="headerLink">
        <a href="../dag_3/oppgave.html">Dag 3</a>
    </div>
    <div class="headerLink">
        <a href="../dag_4/oppgave.html">Dag 4</a>
    </div>
    <div class="headerLink">
        <a href="../dag_5/oppgave.html">Dag 5</a>
    </div>
</div>
<div class="container">
    <h1>Oppgaver dag 3</h1>

    <h2>Forord</h2>

    <p>I dag skal vi fortsette med webshop, og introdusere noen nye konsepter som vil gjøre det lettere å holde orden på
        elementer og verdier, samt manipulering av DOM (Document Object Model).
    </p>
    <p>Webshoppen skal kunne..</p>
    <ul>
        <li>Vise visuelt hva som er i handlekurven</li>
        <li>Slette enkeltelementer fra handlekurven</li>
        <li>Dynamisk oppdatere handlekurven</li>
    </ul>

    <p>
        Enkelt forklart skal dere lage en mer interaktiv og intuitiv handlekurv enn tidligere, og jobbe med JavaScript
        for å oppnå dette.
    </p>

    <p>
        De tekniske målene for dagen er:
    </p>

    <ul>
        <li>HTML og CSS for å legge til visning av en handlekurv nederst på siden</li>
        <li>Bruke Javascript for funksjonalitet til å legge til og slette elementer i handlekurven</li>
        <li>Innføre JSON objekter for hvert av elementene man kan legge til i handlekurv</li>
    </ul>

    <h2>Oppgaver</h2>

    <p>I dag skal vi starte med å lage designet til handlekurven, samt å legge til noe Javascript for å vise hvilke
        elementer man
        kan har lagt til som varer i handlekurven.</p>

    <div class="panel-group">
        <div class="panel panel-primary">
            <div class="panel panel-heading">1. Oppsett av handlekurven</div>
            <div class="panel-body">
                <p>Vi starter først med å åpne HTML-filen vi lagde i går. Inne i denne kan du starte med å
                    lime inn følgende:</p>

                <pre>
                    &lt;div class=&quot;items&quot;&gt;
                        &lt;p&gt;Handlekurv:&lt;/p&gt;
                        &lt;ul class=&quot;list-group&quot; id=&quot;handlekurv&quot;&gt;
                            &lt;!-- Her skal elementene (list items) vises.
                            List items lages med:
                                &lt;li&gt;"navn på element"&lt;/li&gt;
                                --&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;</pre>

                <p>Dette er da HTML-en til handlekurven vi skal jobbe med. Vi skriver som nevnt i forelesning, kode som
                    skal vise containeren til handlekurven.</p>

                <p><b>Oppgave:</b></p>

                <p>Legg til noen list items i handlekurven.</p>

                <p>Prøv å bruke CSS til å style handlekurven slik du vil at den skal se ut.

                <p></p>

            </div>
        </div>

        <div class="panel panel-primary">
            <div class="panel panel-heading">2. DOM-manipulasjon</div>
            <div class="panel-body">
                <p>
                    Neste steg er å begynne med DOM-manipulasjon. Det vil si endring av HTML-dokumentet, ofte ved bruk
                    av JavaScript.
                </p>

                Her er et eksempel:

                <script>
                    function test() {
                        var element = document.getElementById('test');
                        element.innerHTML = 'Du la til denne teksten';
                    }
                </script>
                <ul id="eksempel">
                    <button onclick="test('potet')">
                        Trykk på meg
                    </button>
                </ul>
                <p id="test">
                </p>

                <p>Denne funksjonaliteten oppnår man med denne koden:</p>
                <pre>
                &lt;script&gt;
                    function test() {
                        var element = document.getElementById('test');
                        element.innerHTML = 'Du la til denne teksten';

                    }
                &lt;/script&gt;
                &lt;ul id=&quot;eksempel&quot;&gt;
                    &lt;button onclick=&quot;test()&quot;&gt;
                        Trykk p&aring; meg
                    &lt;/button&gt;
                &lt;/ul&gt;
                &lt;p id=&quot;test&quot;&gt;
                &lt;/p&gt;
                </pre>

                <br>
                <p>Videre kan man legge til betingelser (en if/else-test) som gjør at man kan endre oppførsel avhengig
                    av
                    betingelser.</p>
                <p>Les gjerne mer om "if/else-test" <a href="https://www.w3schools.com/js/js_if_else.asp">her</a>
                    <i>(dere trenger ikke lære om if/else ennå, men ta gjerne en titt hvis det virker interessant).</i>
                </p>
                <script>
                    var count = false;

                    function test2() {
                        var element = document.getElementById('test2');
                        element.innerHTML = 'Du la til denne teksten';
                        var btn = document.getElementById('btn');
                        if (count) {
                            element.style.display = 'none';
                            count = false;
                            btn.innerText = "Trykk på meg";
                        }
                        else {
                            element.style.display = 'block';
                            count = true;
                            btn.innerText = "Trykk på meg igjen"
                        }
                    }
                </script>
                <ul id="eksempel2">
                    <button id="btn" onclick="test2()">
                        Trykk på meg
                    </button>
                </ul>
                <p id="test2">
                </p>

                <br>
                <p>Dette kan du få til ved å endre JavaScript-koden til følgende:</p>
                <pre>
                    var count = false;

                    function test() {
                        var element = document.getElementById('test')
                        element.innerHTML = 'Du la til denne teksten';
                        var btn = document.getElementById('btn');
                        if (count) {
                            element.style.display = 'none';
                            count = false;
                            btn.innerText = &quot;Trykk p&aring; meg&quot;;
                        }
                        else {
                            element.style.display = 'block';
                            count = true;
                            btn.innerText = &quot;Trykk p&aring; meg igjen&quot;
                        }
                    }</pre>

                <p>I tillegg må du gi knappen en ID:</p>

                <pre>
                     &lt;ul id=&quot;eksempel&quot;&gt;
                        &lt;button id="btn" onclick=&quot;test()&quot;&gt;
                            Trykk p&aring; meg
                        &lt;/button&gt;
                    &lt;/ul&gt;
                    &lt;p id=&quot;test&quot;&gt;
                    &lt;/p&gt;</pre>

                <p>Nå ser vi at man kan bruke JavaScript til å manipulere DOM (HTML) på nettsiden vår.</p>

                <p><b>Oppgave:</b>
                <p>Legg JavaScript-koden i JavaScript filen din (script.js) og se til at den fungerer på samme måte
                    der.</p>
                <p>Når du har gjort dette, kan du legge til funksjonalitet for å endre handlekurven basert på elementer
                    lagt til i den. Kall funksjonen du lager <i>"cartAdd"</i>, med parameter <i>"item"</i>.
                    <br>
                    Slik: <i>function cartAdd(item){...}</i></p>

                <p>Start med å endre teksten i handlekurven til å vise det siste elementet lagt til. Eksempel
                    "Datamaskin" eller "Mobil"</p>
                <p><b>Tips:</b> Se på funksjonen "function test()" i eksempelet over, og lag en funksjon i ditt
                    script.js-dokument som ligner.</p>

                <i>Om du sitter fast, spør en av foreleserne. Du kan også ta en titt på hintet eller løsningsforslaget
                    under:</i>
                <br>
                <button class="btn btn-default" onclick="showExample('hint1')">Se hint</button>
                <div id="hint1" style="display: none;">
                    <p>
                        Legg merke til <i>document.getElementById</i> og <i>innerHTML</i>
                    </p>
                    <p>Se om du kan få innerHTML i handlekurven til å vise det som ble lagt til.</p>
                    <p>Du må bruke <i>item</i> som er brukt i <i>addItem</i>-funksjonen i <i>script.js</i>-filen.</p>
                </div>
                <button class="btn btn-default" onclick="showExample('example1')">Se løsningsforslag</button>
                <div id="example1" style="display: none;">
                    <pre>
                        function addItem(item) {
                            items.push(item);
                            cartAdd(item);
                        }

                        function cartAdd(item){
                            var kurv = document.getElementById('handlekurv');
                            kurv.innerHTML = item;
                        }</pre>
                </div>
            </div>
        </div>


        <div class="panel panel-primary">
            <div class="panel panel-heading">3. Legge til HTML i handlekurv</div>
            <div class="panel-body">
                <p>Nå skal vi vise hvilke produkter som ligger i handlekurven vår. Dette oppnår vi ved bruk av
                    DOM-manipulasjon og å legge til HTML i form av list-items i listen vår.</p>

                <p>Eksempelet under viser hvordan man kan legge til list-items i en liste. Det er i tillegg lagt til
                    funksjonalitet for å velge tekst som skal legges til i listen.</p>
                <p>Dette vil kun bli brukt som eksempel på hva som er mulig, og det er ikke nødvendig å forstå all
                    JavaScript-koden.</p>
                <p>Legg spesielt merke til <i>outputTest(text)</i>-funksjonen. Den ligner veldig på den vi kommer til å
                    bruke videre.</p>

                <script>
                    function inputTest() {
                        var text = document.getElementById('inputText').value;
                        outputTest(text);
                    }

                    function outputTest(text) {
                        var ul = document.getElementById('inputUl');
                        var outputLi = document.createElement('li');
                        outputLi.innerText = text;
                        ul.appendChild(outputLi);
                    }

                    function deleteTest() {
                        document.getElementById('inputUl').innerHTML = "";
                    }
                </script>
                <button onclick="inputTest()">Trykk på meg</button>
                <input id="inputText" type="text" placeholder="Skriv noe her">
                <button onclick="deleteTest()">Slett liste</button>
                <ul id="inputUl">
                </ul>

                <p>Dette oppnår man med koden under.</p>
                <pre>
                    &lt;script&gt;
                    function inputTest() {
                        var text = document.getElementById('inputText').value;
                        outputTest(text);
                    }
                    function outputTest(text) {
                        var ul = document.getElementById('inputUl');
                        var outputLi = document.createElement('li');
                        outputLi.innerText = text;
                        ul.appendChild(outputLi);
                    }
                    function deleteTest() {
                        document.getElementById('inputUl').innerHTML = "";
                    }
                    &lt;/script&gt;

                &lt;button onclick=&quot;inputTest()&quot;&gt;Trykk p&aring; meg&lt;/button&gt;
                &lt;input id=&quot;inputText&quot; type=&quot;text&quot placeholder=&quot;Skriv noe her&quot;&gt;
                &lt;button onclick=&quot;deleteTest()&quot;&gt;Slett liste&lt;/button&gt;
                &lt;ul id=&quot;inputUl&quot;&gt;
                &lt;/ul&gt;
                </pre>

                <p>Det er mye mer oversiktlig og visuelt å se beskrivelse av elementene i handlelisten vår.</p>

                <p>Ved å bruke JavaScript kan vi enkelt legge til HTML-elementer i listen vår når vi trykker på <i>"legg
                    til"</i>, altså når vi "kaller" på funksjonen <i>addItem</i>.</p>

                <p><b>Oppgave:</b> Lag JavaScript-kode som gjør at handlekurven viser elementer som du trykker <i>"legg
                    til"</i> på. Det skal bare være nødvendig å utvide funksjonen 'cartAdd'</p>
                <p>
                    <b>Tips:</b> se på løsningsforslaget til oppgave 2 og utvid (jobb videre med) koden som står der.
                    <br>
                    Det kan også være lurt å lage en <i>TextNode</i> som inneholder navnet på varen du legger i
                    handlekurven.
                </p>

                <i>Om du sitter fast, spør en av foreleserne. Du kan også ta en titt på hintet eller løsningsforslaget
                    under:</i>
                <br>

                <button class="btn btn-default" onclick="showExample('hint2')">Se hint</button>

                <div id="hint2" style="display: none">
                    <p>Se på hvordan <i>outputTest()</i> bruker <i>document.CreateElement</i> og <i>appendChild</i>.
                        Prøv å gjøre det samme i handlekurven din.</p>
                </div>
                <button class="btn btn-default" onclick="showExample('example2');">Se løsningsforslag</button>
                <div id="example2" style="display: none;">
                    <pre>
                        function cartAdd(item) {
                            var kurv = document.getElementById('handlekurv');
                            var element = document.createElement('li');
                            element.classList.add('list-group-item');
                            element.appendChild(document.createTextNode(item + " "));
                            kurv.appendChild(element);
                        }</pre>
                </div>
            </div>
        </div>


        <div class="panel panel-primary">
            <div class="panel panel-heading">4. Fjerne HTML i handlekurv</div>
            <div class="panel-body">
                <p>Vi klarte å legge varene vi velger i handlekurven. Nå skal vi legge til funksjonalitet for å fjerne
                    dem og å tømme handlekurven.</p>

                <p><b>Oppgave:</b> Legg til funksjonalitet for knappen 'Tøm handlekurv', slik at den sletter all HTML
                    til elementene i handlekurven.</p>

                <i>Om du sitter fast, spør en av foreleserne. Du kan også ta en titt på hintet eller løsningsforslaget
                    under:</i>
                <br>

                <button class="btn btn-default" onclick="showExample('hint3');">Vis hint</button>
                <div id="hint3" style="display: none;">
                    <p>Se på <i>function deleteTest()</i> (i eksempelet på oppgave 3) og prøv å finne ut hvordan du gjør
                        det samme med handlekurven.</p>
                    <p>Husk også å tømme listen/tabellen (array) med varer.</p>
                    <p>I denne oppgaven trenger du kun å endre på <i>script.js</i>-filen.</p>
                </div>

                <button class="btn btn-default" onclick="showExample('example3');">Vis løsningsforslag</button>
                <div id="example3" style="display: none;">
                    <pre>
                        function clearItems() {
                            items = [];
                            console.log("Tømmer handlekurv");
                            document.getElementById('handlekurv').innerHTML = "";
                        }</pre>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel panel-heading">5. Fjerne HTML i handlekurv - UTFORDRING</div>
            <div class="panel-body">
                <p>Hvis vi ønsker å beholde varene i handlekurven, men vil slette <b>ett</b> element, så må vi gjøre
                    noen endringer i koden vår.</p>
                <p><b>UTFORDRING: </b>Legg til funksjonalitet for å slette individuelle (én og én) elementer i
                    handlekurven.</p>
                <p>Vi må endre på <i>script.js</i>-filen der vi legger til nye elementer i handlekurven.</p>
                <p>Der må vi:</p>
                <ul>
                    <li><p>legge til en unik <i>id</i> til elementet slik at vi sletter riktig element.</p></li>
                    <li><p>lage en knapp for hvert element vi legger til i handlekurven</p></li>
                    <li><p>gjøre at knappen fjerner elementet den hører til</p></li>
                </ul>
                <p>Vi anbefaler å prøve seg på disse oppgavene, så skal vi veilede så godt vi kan.</p>

                <i>Om du sitter fast, spør en av foreleserne. Du kan også ta en titt på hintet eller løsningsforslagene
                    under oppgavene</i>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel panel-heading">5. Deloppgave 1</div>
            <div class="panel-body">
                <p><b>Deloppgave 1</b>:Legg til en unik <i>id</i> til hvert element som legges til i handlekurven.</p>
                <button class="btn btn-default" onclick="showExample('hintd1')">Vis hint</button>
                <button class="btn btn-default" onclick="showExample('lf1')">Vis løsningsforslag</button>
                <div id="hintd1" style="display: none">
                    <p>Se på hvordan eksemplene i oppgave 2 og 3 gir id til html-elementer.</p>
                    <p>I JavaScript gis id med <i>variabel</i>.id="<i>identifikator</i>"</p>
                </div>
                <div id="lf1" style="display: none;">
                    <pre>
                        var items = [];
                        var num = 0;<span class="codeComment">//Legger til en teller som brukes i element-ID</span>

                        function cartAdd(item){
                            var kurv = document.getElementById('handlekurv');
                            var element = document.createElement('li');
                            element.classList.add('list-group-item');

                            var id = "element" + num++; <span class="codeComment">//Lager unik id lik verdien til "element", så øker den. Da vil alle verdier ha en unik tallverdi</span>
                            element.id = id; <span class="codeComment">//Gir elementet id-en som vi lager over.</span>
                            element.appendChild(document.createTextNode(item + " ")); <span class="codeComment">//Lager en tekstnode hvor det står hvilken vare denne linjen tilhører.</span>

                            kurv.appendChild(element);
                        }</pre>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel panel-heading">5. Deloppgave 2</div>
            <div class="panel-body">
                <p><b>Deloppgave 2:</b> Lag en knapp for hvert element som legges til i handlekurven</p>
                <button class="btn btn-default" onclick="showExample('hintd2')">Vis hint</button>
                <button class="btn btn-default" onclick="showExample('lf2')">Vis løsningsforslag</button>
                <div id="hintd2" style="display: none">
                    <p>Lag en knapp med document.createElement('button').
                        Bruk "appendChild" til å legge den til "li"-elementet du lager når du legger til en vare i
                        handlekurven</p>
                </div>
                <div id="lf2" style="display: none;">
                    <pre>
                        var items = [];
                        var num = 0;

                        function cartAdd(item){
                            var kurv = document.getElementById('handlekurv');
                            var element = document.createElement('li');
                            element.classList.add('list-group-item');

                            var id = "element" + num++;
                            element.id = id;
                            element.appendChild(document.createTextNode(item + " "));

                            var fjernBtn = document.createElement('button');<span
                            class="codeComment">//Lager en knapp</span>
                            fjernBtn.appendChild(document.createTextNode('fjern'));<span class="codeComment">//Legger til teksten "fjern" på knappen</span>
                            fjernBtn.classList.add('btn','btn-danger');<span class="codeComment">//Legger til <i>class=&quot;btn btn-danger&quot;</i> på knappen</span>
                            element.appendChild(fjernBtn);<span class="codeComment">//Legger til fjern-knappen i "li"-elementet i handlekurven</span>

                            kurv.appendChild(element);
                        }</pre>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel panel-heading">5. Deloppgave 3</div>
            <div class="panel-body">
                <p><b>Deloppgave 3:</b> Gjør at knappen kaller på funksjonen deleteElement(id, item) når du trykker på
                    den.</p>
                <p>Kopier denne koden og lim inn i <i>script.js</i>-filen:</p>
                <pre>
                   function deleteElement(id, item) {
                        var element = document.getElementById(id);
                        element.parentNode.removeChild(element);
                        for (var i = items.length-1; i >=0; i--){
                            if (items[i] === item){
                                items.splice(i,1);
                                break;
                            }
                        }
                        console.log("Fjerner " + item);
                    }</pre>

                <button class="btn btn-default" onclick="showExample('hintd3');">Vis hint</button>
                <btn class="btn btn-default" onclick="showExample('lf3')">Vis løsningsforslag</btn>
                <div id="hintd3" style="display: none;">
                    <p>Sett fjernBtn sin onclick til å kalle på deleteElement(id, item)</p>
                    <p>I JS brukes onclick=function(){ <i>kode</i> };</p>
                </div>
                <div id="lf3" style="display: none">
                    <pre>
                            <span class="codeComment">/*
                            Legger til en button til hvert listeelement
                            som sletter det valgte listeelementet.
                            */</span>
                            var fjernBtn = document.createElement('button');
                            fjernBtn.appendChild(document.createTextNode('fjern'));

                            <span class="codeComment">//Kaller på funksjonen "deleteElement", som er gitt i oppgaven</span>
                            fjernBtn.onclick = function () {
                                deleteElement(id, item);
                            };
                            fjernBtn.classList.add('btn','btn-danger');
                            element.appendChild(fjernBtn);
                    </pre>
                </div>

                <br><br>
                <p><b>Løsningsforslag til hele oppgaven:</b></p>

                <button class="btn btn-default" onclick="showExample('example4');">Vis løsningsforslag</button>
                <div id="example4" style="display: none;">
                    <pre>
                        var items = [];
                        var num = 0; <span
                            class="codeComment">//Legger til en teller for å holde orden på unike id-er.</span>

                        function cartAdd(item) {
                            var kurv = document.getElementById('handlekurv');
                            var element = document.createElement('li');
                            element.classList.add('list-group-item');

                            var id = "element" + num++; <span class="codeComment">//Lager unik id, og sørger for at neste id også er unik.</span>
                            element.id = id; <span class="codeComment">//Gir elementet id-en som vi lager over.</span>
                            element.appendChild(document.createTextNode(item + " "));

                            <span class="codeComment">/*
                            Legger til en button til hvert listeelement
                            som sletter det valgte listeelementet.
                            */</span>
                            var fjernBtn = document.createElement('button');
                            fjernBtn.appendChild(document.createTextNode('fjern'));

                            <span class="codeComment">//Kaller på funksjonen "deleteElement", som er gitt i oppgaven</span>
                            fjernBtn.onclick = function () {
                                deleteElement(id, item);
                            };
                            fjernBtn.classList.add('btn','btn-danger');
                            element.appendChild(fjernBtn);

                            kurv.appendChild(element);
                            console.log('Legger til ' + item);
                    }</pre>
                </div>
            </div>
        </div>


    </div>
</div>
</body>
</html>